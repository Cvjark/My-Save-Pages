<!DOCTYPE html>
<!-- saved from url=(0044)https://www.cnblogs.com/52php/p/5813867.html -->
<html lang="zh-cn" style="--olcb-folder-code-block-max-height:80vh;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="origin-when-cross-origin">
    <meta name="description" content="一、什么是信号 用过Windows的我们都知道，当我们无法正常结束一个程序时，可以用任务管理器强制结束这个进程，但这其实是怎么实现的呢？同样的功能在Linux上是通过生成信号和捕获信号来实现的，运行中">
    <meta property="og:description" content="一、什么是信号 用过Windows的我们都知道，当我们无法正常结束一个程序时，可以用任务管理器强制结束这个进程，但这其实是怎么实现的呢？同样的功能在Linux上是通过生成信号和捕获信号来实现的，运行中">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Linux进程间通信（一）： 信号  signal()、sigaction() - 52php - 博客园</title>
    <link id="favicon" rel="shortcut icon" href="https://common.cnblogs.com/favicon.svg" type="image/svg+xml">
    
    <style>#home :not(.cnblogs_code):not(.cnblogs_Highlighter)>pre:not([highlighted]):not([class*="brush:"]) code:not(.hljs), :not(.cnblogs_code):not(.cnblogs_Highlighter)>pre:not([highlighted]):not([class*="brush:"]) code:not(.hljs) {background: rgb(245, 245, 245);
        padding: 12px;
        border: 1px solid rgb(204, 204, 204);
        border-radius: 3px;
        border-color: transparent;
        color: rgb(68, 68, 68);
        font-family: "Courier New", sans-serif;
        font-size: 12px</style><link rel="stylesheet" href="./Linux进程间通信（一）：信号 signal()、sigaction()_files/blog-common.min.css">
    

    <link id="MainCss" rel="stylesheet" href="./Linux进程间通信（一）：信号 signal()、sigaction()_files/bundle-bluefresh.min.css">
        <link id="highlighter-theme-cnblogs" type="text/css" rel="stylesheet" href="./Linux进程间通信（一）：信号 signal()、sigaction()_files/cnblogs.css">
    <link type="text/css" rel="stylesheet" href="./Linux进程间通信（一）：信号 signal()、sigaction()_files/custom.css">
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./Linux进程间通信（一）：信号 signal()、sigaction()_files/bundle-bluefresh-mobile.min.css">
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/52php/rss">
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/52php/rsd.xml">
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/52php/wlwmanifest.xml">
    <script type="text/javascript" async="" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/analytics.js.下载"></script><script src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/hm.js.下载"></script><script>
        var currentBlogId = 110339;
        var currentBlogApp = '52php';
        var isLogined = false;
        var isBlogOwner = false;
        var skinName = 'BlueFresh';
        var visitorUserId = '';
        var hasCustomScript = true;
        try {
            if (hasCustomScript && document.referrer && document.referrer.indexOf('baidu.com') >= 0) {
                Object.defineProperty(document, 'referrer', { value: '' });
                Object.defineProperty(Document.prototype, 'referrer', { get: function(){ return ''; } });
            }
        } catch(error) { }
        window.cb_enable_mathjax = false;
        window.mathEngine = 0;
        window.codeHighlightEngine = 1;
        window.enableCodeLineNumber = false;
        window.codeHighlightTheme = 'cnblogs';
        window.darkModeCodeHighlightTheme = 'vs2015';
        window.isDarkCodeHighlightTheme = false;
        window.isDarkModeCodeHighlightThemeDark = true;
        window.isDisableCodeHighlighter = false;
        window.enableCodeThemeTypeFollowSystem = false;
    </script>
        <script>
            var currentPostDateAdded = '2016-08-27 23:04';
        </script>
    <script src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/jquery-2.2.0.min.js.下载"></script>
    <script src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/blog-common.min.js.下载"></script><style>.medium-zoom-overlay {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  opacity: 0;
  transition: opacity 300ms;
  will-change: opacity;
}

.medium-zoom--opened .medium-zoom-overlay {
  cursor: pointer;
  cursor: zoom-out;
  opacity: 1;
}

.medium-zoom-image {
  cursor: pointer;
  cursor: zoom-in;
  /*
    The `transition` is marked as "!important" for the animation to happen
    even though it's overriden by another inline `transition` style attribute.

    This is problematic with frameworks that generate inline styles on their
    images (e.g. Gatsby).

    See https://github.com/francoischalifour/medium-zoom/issues/110
   */
  transition: transform 300ms cubic-bezier(0.2, 0, 0.2, 1) !important;
}

.medium-zoom-image--hidden {
  visibility: hidden;
}

.medium-zoom-image--opened {
  position: relative;
  cursor: pointer;
  cursor: zoom-out;
  will-change: transform;
}
</style><script id="hljs-script" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/highlight.min.js.下载" type="text/javascript" async=""></script>
    

    
<script charset="utf-8" src="chrome-extension://jgphnjokjhjlcnnajmfjlacjnjkhleah/js/btype.js"></script><script type="text/javascript" charset="utf-8" src="chrome-extension://jgphnjokjhjlcnnajmfjlacjnjkhleah/js/chrome.js"></script><meta http-equiv="origin-trial" content="A+cA2PUOfIOKAdSDJOW5CP9ZlxONy1yu+hqAq72zUtKw4rLdihqRp6Nui/jUyCyegr+BUtH+C+Elv0ufn05yBQEAAACFeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjY5NzY2Mzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A+zsdH3aNZT/bkjT8U/o5ACzyaeNYzTvtoVmwf/KOilfv39pxY2AIsOwhQJv+YnXp98i3TqrQibIVtMWs5UHjgoAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjY5NzY2Mzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="AxceVEhIegcDEHqLXFQ2+vPKqzCppoJYsRCZ/BdfVnbM/sUUF2BXV8lwNosyYjvoxnTh2FC8cOlAnA5uULr/zAUAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjY5NzY2Mzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><script src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/pubads_impl_2022090801.js.下载" async=""></script><link rel="preload" href="./Linux进程间通信（一）：信号 signal()、sigaction()_files/f.txt" as="script"><script type="text/javascript" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/f.txt"></script></head>
<body class="skin-bluefresh no-navbar">
<a name="top"></a>
<div id="top_nav" class="navbar forpc navbar-custom">
    <nav id="nav_main" class="navbar-main">
        <ul id="nav_left" class="navbar-list navbar-left">
            <li class="navbar-branding">
                <a href="https://www.cnblogs.com/" title="开发者的网上家园" role="banner">
                    <img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/logo.svg" alt="博客园Logo">
                </a>
            </li>
            <li>
                <a href="https://www.cnblogs.com/" onclick="countClicks(&#39;skin-navbar-sitehome&#39;)">首页</a>
            </li>
            <li>
                <a href="https://news.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-news&#39;)">新闻</a>
            </li>
            <li>
                <a href="https://q.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-q&#39;)">博问</a>
            </li>
            <li>
                <a id="nav_brandzone" href="https://brands.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-brands&#39;)">专区</a>
            </li>
            <li>
                <a href="https://ing.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-ing&#39;)">闪存</a>
            </li>
            <li>
                <a href="https://edu.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-edu&#39;)">班级</a>
            </li>
        </ul>
        <ul id="nav_right" class="navbar-list navbar-right">
            <li>
                <form id="zzk_search" class="navbar-search" action="https://zzk.cnblogs.com/s" method="get" role="search">
                    <input name="w" id="zzk_search_input" placeholder="代码改变世界" type="search" tabindex="3">
                    <button type="submit" id="zzk_search_button">
                        <img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/search.svg" alt="搜索">
                    </button>
                </form>
            </li>
            <li id="navbar_login_status" class="navbar-list">
                <a class="navbar-user-info navbar-blog" href="https://i.cnblogs.com/EditPosts.aspx?opt=1" alt="写随笔" title="写随笔" style="display: none;">
                    <img id="new_post_icon" class="navbar-icon" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/newpost.svg" alt="写随笔">
                </a>
                <a id="navblog-myblog-icon" class="navbar-user-info navbar-blog" href="https://passport.cnblogs.com/GetBlogApplyStatus.aspx" alt="我的博客" title="我的博客" style="display: none;">
                    <img id="myblog_icon" class="navbar-icon" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/myblog.svg" alt="我的博客">
                </a>
                <a class="navbar-user-info navbar-message navbar-icon-wrapper" href="https://msg.cnblogs.com/" alt="短消息" title="短消息" style="display: none;">
                    <img id="msg_icon" class="navbar-icon" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/message.svg" alt="短消息">
                    <span id="msg_count" style="display: none"></span>
                </a>
                <a id="navbar_lite_mode_indicator" data-current-page="blog" style="display: none" href="javascript:void(0)" alt="简洁模式" title="简洁模式启用，您在访问他人博客时会使用简洁款皮肤展示">
                    <img class="navbar-icon" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/lite-mode-on.svg" alt="简洁模式">
                </a>
                <div id="user_info" class="navbar-user-info dropdown" style="display: none;">
                    <a class="dropdown-button" href="https://home.cnblogs.com/">
                        <img id="user_icon" class="navbar-avatar" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/avatar-default.svg" alt="用户头像">
                    </a>
                    <div class="dropdown-menu">
                        <a id="navblog-myblog-text" href="https://passport.cnblogs.com/GetBlogApplyStatus.aspx">我的博客</a>
                        <a href="https://home.cnblogs.com/">我的园子</a>
                        <a href="https://account.cnblogs.com/settings/account">账号设置</a>
                        <a href="javascript:void(0)" id="navbar_lite_mode_toggle" title="简洁模式会使用简洁款皮肤显示所有博客">
    简洁模式 <img id="navbar_lite_mode_on" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/lite-mode-check.svg" class="hide"><span id="navbar_lite_mode_spinner" class="hide">...</span>
</a>
                        <a href="javascript:void(0)" onclick="account.logout();">退出登录</a>
                    </div>
                </div>
                <a class="navbar-anonymous" href="https://account.cnblogs.com/signup" style="display: inline;">注册</a>
                <a class="navbar-anonymous" href="javascript:void(0);" onclick="account.login()" style="display: inline;">登录</a>
            </li>
        </ul>
    </nav>
</div>

<div id="page_begin_html">
<ul class="clearfix" id="navList_new">
    <li><a href="http://52php.cnblogs.com/">首页</a></li>
    <li><a rel="nofollow" href="http://i.cnblogs.com/EditPosts.aspx?opt=1">添加随笔</a></li>
</ul>
</div>

<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
        <a id="lnkBlogLogo" href="https://www.cnblogs.com/52php/"><img id="blogLogo" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/logo.gif" alt="返回主页"></a>		
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/52php/">52PHP</a>
</h1>
<h2><span style="color:red">革命尚未成功，同志仍须努力。。。</span></h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li>
</li>
<li>

</li>
<li>


</li>
<li>
</li>
<li>

<!--<partial name="./Shared/_XmlLink.cshtml" model="Model" /></li>--></li>
<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
</ul>


		<div class="blogStats">
			<span id="stats_post_count">随笔 - 1026&nbsp; </span>
<span id="stats_article_count">文章 - 0&nbsp; </span>
<span id="stats-comment_count">评论 - 119&nbsp; </span>
<span id="stats-total-view-count">阅读 - 
<span title="总阅读数: 3716138">
371万</span></span>

		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->
<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="post_detail">
    <!--done-->
    <div id="topics">
        <div class="post">
            <h1 class="postTitle">
                
<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/52php/p/5813867.html">
    <span role="heading" aria-level="2">Linux进程间通信（一）： 信号  signal()、sigaction()</span>
    
</a><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h3><span style="color: rgba(255, 0, 0, 1)">一、什么是信号</span><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h3>
<p>用过Windows的我们都知道，当我们无法正常结束一个程序时，可以用任务管理器强制结束这个进程，但这其实是怎么实现的呢？同样的功能在Linux上是通过生成信号和捕获信号来实现的，运行中的进程捕获到这个信号然后作出一定的操作并最终被终止。</p>
<p>信号是UNIX和Linux系统响应某些条件而产生的一个事件，接收到该信号的进程会相应地采取一些行动。通常信号是由一个错误产生的。但它们还可以作为进程间通信或修改行为的一种方式，明确地由一个进程发送给另一个进程。一个信号的产生叫生成，接收到一个信号叫捕获。</p>
<h3><span style="color: rgba(255, 0, 0, 1)">二、信号的种类</span><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h3>
<p>信号的名称是在头文件signal.h中定义的，信号都以SIG开头，常用的信号并不多，常用的信号如下：</p>
<p><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/381128-20160827230227897-733011413.jpg" alt="" class="medium-zoom-image"></p>
<p>更多的信号类型可查看附录表。</p>
<h3><span style="color: rgba(255, 0, 0, 1)">三、信号的处理 —— signal()函数</span><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h3>
<p>程序可用使用signal()函数来处理指定的信号，主要通过忽略和恢复其默认行为来工作。signal()函数的原型如下：</p>
<blockquote>
<p>#include &lt;signal.h&gt;<br>
void (*<span style="color: rgba(0, 0, 255, 1)">signal</span>(int sig, void (*func)(int)))(int);</p>







</blockquote>
<p>这是一个相当复杂的声明，耐心点看可以知道signal是一个带有sig和func两个参数的函数，func是一个类型为void (*)(int)的函数指针。该函数返回一个与func相同类型的指针，指向先前指定信号处理函数的函数指针。准备捕获的信号的参数由sig给出，接收到的指定信号后要调用的函数由参数func给出。其实这个函数的使用是相当简单的，通过下面的例子就可以知道。注意信号处理函数的原型必须为void func（int），或者是下面的特殊值：</p>
<blockquote>
<p><span style="color: rgba(0, 0, 255, 1)">SIG_IGN&nbsp;</span>: 忽略信号</p>
<p><span style="color: rgba(0, 0, 255, 1)">SIG_DFL&nbsp;</span>: 恢复信号的默认行为</p>







</blockquote>
<p>说了这么多，还是给出一个例子来说明一下吧，源文件名为 signal1.c，代码如下：</p>
<div><div id="highlighter_641651" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="https://www.cnblogs.com/52php/p/5813867.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include &lt;signal.h&gt;</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number3 index2 alt2"><code class="cpp preprocessor">#include &lt;unistd.h&gt;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">ouch(</code><code class="cpp color1 bold">int</code> <code class="cpp plain">sig)</code></div><div class="line number6 index5 alt1"><code class="cpp plain">{</code></div><div class="line number7 index6 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"\nOUCH! - I got signal %d\n"</code><code class="cpp plain">, sig);</code></div><div class="line number8 index7 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 恢复终端中断信号SIGINT的默认行为</code></div><div class="line number10 index9 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">(</code><code class="cpp keyword bold">void</code><code class="cpp plain">) </code><code class="cpp functions bold">signal</code><code class="cpp plain">(SIGINT, SIG_DFL);</code></div><div class="line number11 index10 alt2"><code class="cpp plain">}</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="cpp color1 bold">int</code> <code class="cpp plain">main()</code></div><div class="line number14 index13 alt1"><code class="cpp plain">{</code></div><div class="line number15 index14 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 改变终端中断信号SIGINT的默认行为，使之执行ouch函数</code></div><div class="line number16 index15 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 而不是终止程序的执行</code></div><div class="line number17 index16 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">(</code><code class="cpp keyword bold">void</code><code class="cpp plain">) </code><code class="cpp functions bold">signal</code><code class="cpp plain">(SIGINT, ouch);</code></div><div class="line number18 index17 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">(1)</code></div><div class="line number19 index18 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number20 index19 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"Hello World!\n"</code><code class="cpp plain">);</code></div><div class="line number21 index20 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">sleep(1);</code></div><div class="line number22 index21 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">0;</code></div><div class="line number25 index24 alt2"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>运行结果如下：</p>
<p><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/381128-20160827230238554-1828538329.jpg" alt="" class="medium-zoom-image"></p>
<p>可以看到，第一次按下终止命令（ctrl+c）时，进程并没有被终止，面是输出OUCH! - I got signal 2，因为SIGINT的默认行为被signal()函数改变了，当进程接受到信号SIGINT时，它就去调用函数ouch去处理，注意ouch函数把信号SIGINT的处理方式改变成默认的方式，所以当你再按一次ctrl+c时，进程就像之前那样被终止了。</p>
<h3><span style="color: rgba(255, 0, 0, 1)">四、信号处理 —— sigaction()函数</span><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h3>
<p>前面我们看到了signal()函数对信号的处理，但是一般情况下我们可以使用一个更加健壮的信号接口 —— sigaction()函数。它的原型为：</p>
<blockquote>
<p>#include &lt;signal.h&gt;<br>
int <span style="color: rgba(0, 0, 255, 1)">sigaction</span>(int sig, const struct sigaction *act, struct sigaction *oact);</p>







</blockquote>
<p>该函数与signal()函数一样，用于设置与信号sig关联的动作，而oact如果不是空指针的话，就用它来保存原先对该信号的动作的位置，act则用于设置指定信号的动作。</p>
<p>sigaction结构体定义在signal.h中，但是它至少包括以下成员：</p>
<blockquote>
<p><span style="color: rgba(0, 0, 255, 1)">void (*) (int) sa_handler</span>：处理函数指针，相当于signal函数的func参数。</p>
<p><span style="color: rgba(0, 0, 255, 1)">sigset_t sa_mask</span>： 指定一个。信号集，在调用sa_handler所指向的信号处理函数之前，该信号集将被加入到进程的信号屏蔽字中。信号屏蔽字是指当前被阻塞的一组信号，它们不能被当前进程接收到</p>
<p><span style="color: rgba(0, 0, 255, 1)">int sa_flags</span>：信号处理修改器;</p>







</blockquote>
<p>sa_mask 的值通常是通过使用信号集函数来设置的，关于信号集函数，我将会在我的下一篇文章 ——&nbsp;<a href="http://www.cnblogs.com/52php/p/5815125.html" target="_blank" rel="noopener">Linux进程间通信——信号集函数</a>，详细讲述。</p>
<p>sa_flags，通常可以取以下的值：</p>
<p><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/381128-20160827230248772-743487273.jpg" alt="" class="medium-zoom-image"></p>
<p><span style="color: rgba(255, 0, 0, 1)">此外</span>，现在有一个这样的问题，我们使用signal()或sigaction()函数来指定处理信号的函数，但是如果这个信号处理函数建立之前就接收到要处理的信号的话，进程会有怎样的反应呢？它就不会像我们想像的那样用我们设定的处理函数来处理了。sa_mask就可以解决这样的问题，sa_mask指定了一个信号集，在调用sa_handler所指向的信号处理函数之前，该信号集将被加入到进程的信号屏蔽字中，设置信号屏蔽字可以防止信号在它的处理函数还未运行结束时就被接收到的情况，即使用sa_mask字段可以消除这一竞态条件。</p>
<p>承接上面的例子，下面给出用sigaction()函数重写的例子代码，源文件为signal2.c，代码如下：</p>
<div><div id="highlighter_132033" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="https://www.cnblogs.com/52php/p/5813867.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include &lt;unistd.h&gt;</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number3 index2 alt2"><code class="cpp preprocessor">#include &lt;signal.h&gt;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">ouch(</code><code class="cpp color1 bold">int</code> <code class="cpp plain">sig)</code></div><div class="line number6 index5 alt1"><code class="cpp plain">{</code></div><div class="line number7 index6 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"\nOUCH! - I got signal %d\n"</code><code class="cpp plain">, sig);</code></div><div class="line number8 index7 alt1"><code class="cpp plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="cpp color1 bold">int</code> <code class="cpp plain">main()</code></div><div class="line number11 index10 alt2"><code class="cpp plain">{</code></div><div class="line number12 index11 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">struct</code> <code class="cpp plain">sigaction act;</code></div><div class="line number13 index12 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">act.sa_handler = ouch;</code></div><div class="line number14 index13 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 创建空的信号屏蔽字，即不屏蔽任何信息</code></div><div class="line number16 index15 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">sigemptyset(&amp;act.sa_mask);</code></div><div class="line number17 index16 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 使sigaction函数重置为默认行为</code></div><div class="line number19 index18 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">act.sa_flags = SA_RESETHAND;</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">sigaction(SIGINT, &amp;act, 0);</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">(1)</code></div><div class="line number24 index23 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number25 index24 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"Hello World!\n"</code><code class="cpp plain">);</code></div><div class="line number26 index25 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">sleep(1);</code></div><div class="line number27 index26 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">0;</code></div><div class="line number30 index29 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>运行结果与前一个例子中的相同。注意sigaction函数在默认情况下是不被重置的，如果要想它重置，则sa_flags就要为SA_RESETHAND。</p>
<h3><span style="color: rgba(255, 0, 0, 1)">五、发送信号</span><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h3>
<p>上面说到的函数都是一些进程接收到一个信号之后怎么对这个信号作出反应，即信号的处理的问题，有没有什么函数可以向一个进程主动地发出一个信号呢？我们可以通过两个函数kill()和alarm()来发送一个信号。</p>
<p><span style="color: rgba(255, 0, 0, 1)">1、kill()函数</span></p>
<p>先来看看kill()函数，进程可以通过kill()函数向包括它本身在内的其他进程发送一个信号，如果程序没有发送这个信号的权限，对kill()函数的调用就将失败，而失败的常见原因是目标进程由另一个用户所拥有。想一想也是容易明白的，你总不能控制别人的程序吧，当然超级用户root，这种上帝般的存在就除外了。</p>
<p>kill()函数的原型为：</p>
<blockquote>
<p>#include &lt;sys/types.h&gt;<br>
#include &lt;signal.h&gt;<br>
int <span style="color: rgba(0, 0, 255, 1)">kill</span>(pid_t pid, int sig);</p>







</blockquote>
<p>它的作用把信号sig发送给进程号为pid的进程，成功时返回0。</p>
<p>kill()调用失败返回-1，调用失败通常有三大原因：</p>
<blockquote>
<p>1、给定的信号无效（errno = EINVAL)<br>
2、发送权限不够( errno = EPERM ）<br>
3、目标进程不存在( errno = ESRCH )</p>







</blockquote>
<p><span style="color: rgba(255, 0, 0, 1)">2、alarm()函数</span></p>
<p>这个函数跟它的名字一样，给我们提供了一个闹钟的功能，进程可以调用alarm()函数在经过预定时间后向发送一个SIGALRM信号。</p>
<p>alarm()函数的型如下：</p>
<blockquote>
<p>#include &lt;unistd.h&gt;<br>
unsigned int <span style="color: rgba(0, 0, 255, 1)">alarm</span>(unsigned int seconds);</p>







</blockquote>
<p>alarm()函数用来在seconds秒之后安排发送一个SIGALRM信号，如果seconds为0，将取消所有已设置的闹钟请求。alarm()函数的返回值是以前设置的闹钟时间的余留秒数，如果返回失败返回-1。</p>
<p>马不停蹄，下面就给合fork()、sleep()和signal()函数，用一个例子来说明kill()函数的用法吧，源文件为signal3.c，代码如下：</p>
<div><div id="highlighter_149107" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="https://www.cnblogs.com/52php/p/5813867.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include &lt;unistd.h&gt;</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include &lt;sys/types.h&gt;</code></div><div class="line number3 index2 alt2"><code class="cpp preprocessor">#include &lt;stdlib.h&gt;</code></div><div class="line number4 index3 alt1"><code class="cpp preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number5 index4 alt2"><code class="cpp preprocessor">#include &lt;signal.h&gt;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="cpp keyword bold">static</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">alarm_fired = 0;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">ouch(</code><code class="cpp color1 bold">int</code> <code class="cpp plain">sig)</code></div><div class="line number10 index9 alt1"><code class="cpp plain">{</code></div><div class="line number11 index10 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">alarm_fired = 1;</code></div><div class="line number12 index11 alt1"><code class="cpp plain">}</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="cpp color1 bold">int</code> <code class="cpp plain">main()</code></div><div class="line number15 index14 alt2"><code class="cpp plain">{</code></div><div class="line number16 index15 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">pid_t pid;</code></div><div class="line number17 index16 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">pid = fork();</code></div><div class="line number18 index17 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">switch</code><code class="cpp plain">(pid)</code></div><div class="line number19 index18 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number20 index19 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">case</code> <code class="cpp plain">-1:</code></div><div class="line number21 index20 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">perror</code><code class="cpp plain">(</code><code class="cpp string">"fork failed\n"</code><code class="cpp plain">);</code></div><div class="line number22 index21 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">exit</code><code class="cpp plain">(1);</code></div><div class="line number23 index22 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">case</code> <code class="cpp plain">0:</code></div><div class="line number24 index23 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 子进程</code></div><div class="line number25 index24 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">sleep(5);</code></div><div class="line number26 index25 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number27 index26 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 向父进程发送信号</code></div><div class="line number28 index27 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">kill(getppid(), SIGALRM);</code></div><div class="line number29 index28 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">exit</code><code class="cpp plain">(0);</code></div><div class="line number30 index29 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">default</code><code class="cpp plain">:;</code></div><div class="line number31 index30 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number32 index31 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 设置处理函数</code></div><div class="line number34 index33 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">signal</code><code class="cpp plain">(SIGALRM, ouch);</code></div><div class="line number35 index34 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">(!alarm_fired)</code></div><div class="line number36 index35 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number37 index36 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"Hello World!\n"</code><code class="cpp plain">);</code></div><div class="line number38 index37 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">sleep(1);</code></div><div class="line number39 index38 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number40 index39 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(alarm_fired)</code></div><div class="line number41 index40 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"\nI got a signal %d\n"</code><code class="cpp plain">, SIGALRM);</code></div><div class="line number42 index41 alt1">&nbsp;</div><div class="line number43 index42 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">exit</code><code class="cpp plain">(0);</code></div><div class="line number44 index43 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>运行结果如下：</p>
<p><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/381128-20160827230301882-94054827.jpg" alt="" class="medium-zoom-image"></p>
<p>在代码中我们使用fork()调用复制了一个新进程，在子进程中，5秒后向父进程中发送一个SIGALRM信号，父进程中捕获这个信号，并用ouch()函数来处理，变改alarm_fired的值，然后退出循环。从结果中我们也可以看到输出了5个Hello World！之后，程序就收到一个SIGARLM信号，然后结束了进程。</p>
<p>注：如果父进程在子进程的信号到来之前没有事情可做，我们可以用函数pause()来挂起父进程，直到父进程接收到信号。当进程接收到一个信号时，预设好的信号处理函数将开始运行，程序也将恢复正常的执行。这样可以节省CPU的资源，因为可以避免使用一个循环来等待。以本例子为例，则可以把while循环改为一句pause();</p>
<p>下面再以一个小小的例子来说明alarm函数和pause函数的用法吧，源文件名为，signal4.c，代码如下：</p>
<div><div id="highlighter_385400" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="https://www.cnblogs.com/52php/p/5813867.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include &lt;unistd.h&gt;</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include &lt;sys/types.h&gt;</code></div><div class="line number3 index2 alt2"><code class="cpp preprocessor">#include &lt;stdlib.h&gt;</code></div><div class="line number4 index3 alt1"><code class="cpp preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number5 index4 alt2"><code class="cpp preprocessor">#include &lt;signal.h&gt;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="cpp keyword bold">static</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">alarm_fired = 0;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">ouch(</code><code class="cpp color1 bold">int</code> <code class="cpp plain">sig)</code></div><div class="line number10 index9 alt1"><code class="cpp plain">{</code></div><div class="line number11 index10 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">alarm_fired = 1;</code></div><div class="line number12 index11 alt1"><code class="cpp plain">}</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="cpp color1 bold">int</code> <code class="cpp plain">main()</code></div><div class="line number15 index14 alt2"><code class="cpp plain">{</code></div><div class="line number16 index15 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 关联信号处理函数</code></div><div class="line number17 index16 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">signal</code><code class="cpp plain">(SIGALRM, ouch);</code></div><div class="line number18 index17 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 调用alarm函数，5秒后发送信号SIGALRM</code></div><div class="line number20 index19 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">alarm(5);</code></div><div class="line number21 index20 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number22 index21 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 挂起进程</code></div><div class="line number23 index22 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">pause();</code></div><div class="line number24 index23 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number25 index24 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 接收到信号后，恢复正常执行</code></div><div class="line number26 index25 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(alarm_fired == 1)</code></div><div class="line number27 index26 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number28 index27 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"Receive a signal %d\n"</code><code class="cpp plain">, SIGALRM);</code></div><div class="line number29 index28 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">exit</code><code class="cpp plain">(0);</code></div><div class="line number32 index31 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>运行结果如下：</p>
<p><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/381128-20160827230311976-1698519064.jpg" alt="" class="medium-zoom-image"></p>
<p>进程在5秒后接收到一个SIGALRM，进程恢复运行，打印信息并退出。</p>
<h3><span style="color: rgba(255, 0, 0, 1)">六、信号处理函数的安全问题</span><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h3>
<p>试想一个问题，当进程接收到一个信号时，转到你关联的函数中执行，但是在执行的时候，进程又接收到同一个信号或另一个信号，又要执行相关联的函数时，程序会怎么执行？</p>
<p>也就是说，信号处理函数可以在其执行期间被中断并被再次调用。当返回到第一次调用时，它能否继续正确操作是很关键的。这不仅仅是递归的问题，而是可重入的（即可以完全地进入和再次执行）的问题。而反观Linux，其内核在同一时期负责处理多个设备的中断服务例程就需要可重入的，因为优先级更高的中断可能会在同一段代码的执行期间“插入”进来。</p>
<p>简言之，就是说，我们的信号处理函数要是可重入的，即离开后可再次安全地进入和再次执行，要使信号处理函数是可重入的，则在信息处理函数中不能调用不可重入的函数。下面给出可重入的函数在列表，不在此表中的函数都是不可重入的，可重入函数表如下：</p>
<p><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/381128-20160827230321460-553549351.jpg" alt="" class="medium-zoom-image"></p>
<h3><span style="color: rgba(255, 0, 0, 1)">七、附录 —— 信号表</span><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h3>
<p><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/381128-20160827230329304-2006355724.jpg" alt="" class="medium-zoom-image"></p>
<p>如果进程接收到上面这些信号中的一个，而事先又没有安排捕获它，进程就会终止。</p>
<p>还有其他的一些信号，如下：</p>
<p><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/381128-20160827230340272-885642190.jpg" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<p><span style="color: rgba(255, 0, 0, 1)"><strong>pause()函数：让进程暂停直到信号出现</strong></span></p>
<div class="table-wrapper"><table style="width: 100%">
<tbody>
<tr>
<td style="width: 150px">&nbsp;</td>
<td><span style="color: rgba(0, 0, 255, 1)">pause</span>（让进程暂停直到信号出现）</td>
</tr>
<tr>
<td>
<p>相关函数</p>
</td>
<td>kill，signal，sleep</td>
</tr>
<tr>
<td>
<p>表头文件</p>
</td>
<td>#include &lt;unistd.h&gt;</td>
</tr>
<tr>
<td>
<p>定义函数</p>
</td>
<td>int pause(void);</td>
</tr>
<tr>
<td>
<p>函数说明</p>
</td>
<td>pause()会令目前的进程暂停（进入睡眠状态），直到被信号(signal)所中断。</td>
</tr>
<tr>
<td>
<p>返回值</p>
</td>
<td>只返回-1。</td>
</tr>
<tr>
<td>
<p>错误代码</p>
</td>
<td>EINTR 有信号到达中断了此函数。</td>
</tr>
</tbody>
</table></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>参考：</p>
<p><a href="http://blog.csdn.net/ljianhui/article/details/10128731" target="_blank" rel="noopener">http://blog.csdn.net/ljianhui/article/details/10128731</a></p>
<p>《Linux 高性能服务器编程》</p>
</div>
<div class="clear"></div>
<div id="blog_post_info_block" role="contentinfo"><div id="BlogPostCategory">
    分类: 
            <a href="https://www.cnblogs.com/52php/category/360668.html" target="_blank">05.Linux-C</a></div>
<div id="EntryTag">
    标签: 
            <a href="https://www.cnblogs.com/52php/tag/%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1/">进程通信</a></div>

    <div id="blog_post_info">
<div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(5813867,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
        <a id="green_channel_follow" onclick="follow(&#39;384d7c4b-b863-e111-aa3f-842b2b196315&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/52php/" target="_blank"><img src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/20220124003557.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/52php/">52php</a><br>
            <a href="https://home.cnblogs.com/u/52php/followers/">粉丝 - <span class="follower-count">403</span></a>
            <a href="https://home.cnblogs.com/u/52php/followees/">关注 - <span class="following-count">0</span></a><br>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow" class="follow-tip">
                <a href="javascript:void(0);" onclick="follow(&#39;384d7c4b-b863-e111-aa3f-842b2b196315&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(5813867,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">4</span>
    </div>
    <div class="buryit" onclick="votePost(5813867,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>

<script type="text/javascript">
    currentDiggType = 0;
</script></div>
    <div class="clear"></div>
    <div id="post_next_prev">

    <a href="https://www.cnblogs.com/52php/p/5813117.html" class="p_n_p_prefix">« </a> 上一篇：    <a href="https://www.cnblogs.com/52php/p/5813117.html" data-featured-image="" title="发布于 2016-08-27 15:46">Linux启动新进程的几种方法汇总</a>
    <br>
    <a href="https://www.cnblogs.com/52php/p/5815076.html" class="p_n_p_prefix">» </a> 下一篇：    <a href="https://www.cnblogs.com/52php/p/5815076.html" data-featured-image="" title="发布于 2016-08-28 15:16">PhpStorm 集成 开源中国(oschina.net)的Git项目，提交SVN时注意事项</a>

</div>
</div>
            </div>
            <div class="postDesc">posted @ 
<span id="post-date">2016-08-27 23:04</span>&nbsp;
<a href="https://www.cnblogs.com/52php/">52php</a>&nbsp;
阅读(<span id="post_view_count">13764</span>)&nbsp;
评论(<span id="post_comment_count">1</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=5813867" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(5813867);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: &#39;&#39;, targetType: &#39;blogPost&#39;, targetId: &#39;5813867&#39;, targetLink: &#39;https://www.cnblogs.com/52php/p/5813867.html&#39;, title: &#39;Linux进程间通信（一）： 信号  signal()、sigaction()&#39; })">举报</a></div>
        </div>
	    
	    
    </div><!--end: topics 文章、评论容器-->
</div>

<script>
    var cb_entryId = 5813867, cb_entryCreatedDate = '2016-08-27 23:04', cb_postType = 1, cb_postTitle = 'Linux进程间通信（一）： 信号  signal()、sigaction()';
    var allowComments = true, cb_blogId = 110339, cb_blogApp = '52php', cb_blogUserGuid = '384d7c4b-b863-e111-aa3f-842b2b196315';
    mermaidRender.render()
    markdown_highlight()
    zoomManager.apply("#cnblogs_post_body img:not(.code_img_closed):not(.code_img_opened)");
    updatePostStats(
            [cb_entryId],
            function(id, count) { $("#post_view_count").text(count) },
            function(id, count) { $("#post_comment_count").text(count) })
</script>
<a id="!comments"></a>
<div id="blog-comments-placeholder"></div>
<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="https://www.cnblogs.com/52php/p/5813867.html#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/52php/p/5813867.html#top">返回顶部</a></div>
    <div id="comment_form_container" style="visibility: visible;"><div class="login_tips">
    登录后才能查看或发表评论，立即 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return account.login(&#39;!comments&#39;);">登录</a> 或者
    <a href="https://www.cnblogs.com/">逛逛</a> 博客园首页
</div>
</div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
        <div id="cnblogs_ch"></div>
    <div id="opt_under_post"></div>
    <div id="cnblogs_c1" class="under-post-card" style="display: none;">
            <div id="div-gpt-ad-1592365906576-0" style="width: 300px; height: 250px;"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none; width: 300px; height: 0px;"></div></div>
    </div>
    <div id="under_post_card1"><div class="under-post-card">
<b>编辑推荐：</b>
<br>

· <a href="https://www.cnblogs.com/green-jcx/p/16671687.html" target="_blank">让泛型的思维扎根在脑海——深刻理解泛型</a>
    <br>
· <a href="https://www.cnblogs.com/coco1s/p/16672819.html" target="_blank">高阶 CSS 技巧在复杂动效中的应用</a>
    <br>
· <a href="https://www.cnblogs.com/lindexi/p/16671495.html" target="_blank">使用 MAUI 在 Windows 和 Linux 上绘制 PPT 的图表 </a>
    <br>
· <a href="https://www.cnblogs.com/crossoverJie/p/16663944.html" target="_blank">终于实现了一门属于自己的编程语言</a>
    <br>
· <a href="https://www.cnblogs.com/coco1s/p/16663752.html" target="_blank">有意思的水平横向溢出滚动 </a>
    <br>
</div></div>
    <div id="under_post_card2"><div class="itnews under-post-card">
    <b>最新新闻</b>：
    <br>
 ·          <a href="https://news.cnblogs.com/n/728186/" target="_blank">HR SaaS，该降降虚火了</a>
        <br>
 ·          <a href="https://news.cnblogs.com/n/728185/" target="_blank">淘汰赛开打，国产芯片公司的五种“死法”</a>
        <br>
 ·          <a href="https://news.cnblogs.com/n/728184/" target="_blank">罗永浩俞敏洪，无意做“抖音一哥”</a>
        <br>
 ·          <a href="https://news.cnblogs.com/n/728183/" target="_blank">“充电5分钟、续航200公里”的背后，车企押宝800V高压超充靠谱吗？</a>
        <br>
 ·          <a href="https://news.cnblogs.com/n/728180/" target="_blank">坚持23年后，他关闭了自行托管的email，向大厂认输了</a>
        <br>
    » <a href="https://news.cnblogs.com/" title="IT 新闻" target="_blank">更多新闻...</a>
</div></div>
    <div id="HistoryToday" class="under-post-card"></div>
    <script type="text/javascript">
        var commentManager = new blogCommentManager();
        commentManager.renderComments(0);
        fixPostBody();

            window.tocManager.displayDisableTocTips = false;
            window.tocManager.generateToc();
            
                setTimeout(function() { countViews(cb_blogId, cb_entryId); }, 50);
            
            deliverT2();
            deliverC1C2();
            loadNewsAndKb();
            
                LoadPostCategoriesTags(cb_blogId, cb_entryId);
            
            LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
            GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
            loadOptUnderPost();
            GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
                </script>
</div>

	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->
	<div id="sideBar">
		<div id="sideBarMain">
			<div id="sidebar_news" class="newsItem"><!--done-->
<h3 class="catListTitle">公告</h3>

<div id="blog-news">
    <div class="blog-search">
    <input type="text" id="q" onkeydown="return zzk_go_enter(event);" placeholder="搜索" class="blog-search-text">
    <input type="button" id="btnZzk" value="Search" onclick="zzk_go()" class="blog-search-submit">
</div>
<h3 class="catListTitle color-red" style="display:block;">博客转移至：<p><a href="http://php-note.com/" target="_blank">http://php-note.com</a></p></h3>
    <div id="profile_block">
        昵称：
        <a href="https://home.cnblogs.com/u/52php/">
            52php
        </a>
        <br>
        园龄：
        <a href="https://home.cnblogs.com/u/52php/" title="入园时间：2012-03-02">
            10年6个月
        </a>
        <br>
        粉丝：
        <a class="follower-count" href="https://home.cnblogs.com/u/52php/followers/">
            403
        </a>
        <br>
        关注：
        <a class="folowing-count" href="https://home.cnblogs.com/u/52php/followees/">
            0
        </a>
        <div id="p_b_follow" class="follow-tip">
<a href="javascript:void(0)" onclick="follow(&#39;384d7c4b-b863-e111-aa3f-842b2b196315&#39;)">+加关注</a></div>
        <script>getFollowStatus('384d7c4b-b863-e111-aa3f-842b2b196315');</script>
    </div>
</div>

</div>
<div id="sidebar_c3"></div>
			<div id="blog-calendar" style="display:none"></div><script>loadBlogDefaultCalendar();</script>			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><!-- 搜索 -->
<div id="sidebar_search" class="sidebar-block">
    
</div>

<!-- 常用链接 -->


<!-- 最新随笔 -->


<!-- 我的标签 -->
<div id="sidebar_toptags" class="sidebar-block"><div class="catListTag">
<h3 class="catListTitle">我的标签</h3>
<ul>
        <li>
            <a href="https://www.cnblogs.com/52php/tag/%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1/">进程通信<span class="tag-count">(17)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/52php/tag/Go%E5%B9%B6%E5%8F%91/">Go并发<span class="tag-count">(10)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/52php/tag/Socket%E7%BC%96%E7%A8%8B/">Socket编程<span class="tag-count">(7)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/52php/tag/%E7%BC%96%E8%AF%91%E6%8A%A5%E9%94%99/">编译报错<span class="tag-count">(5)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/52php/tag/cmake/">cmake<span class="tag-count">(3)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/52php/tag/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列<span class="tag-count">(1)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/52php/tag/PHP%E6%89%A9%E5%B1%95/">PHP扩展<span class="tag-count">(1)</span></a>
        </li>
    

</ul>
</div>

</div>

<!-- 积分与排名 -->
<div id="sidebar_scorerank" class="sidebar-block"><div class="catListBlogRank">
<h3 class="catListTitle">积分与排名</h3>
<ul>
	<li class="liScore">
		积分 -	
1548716
	</li>
	<li class="liRank">
		排名 -	
116
	</li>
</ul>
</div>



</div>

<!-- 随笔分类、随笔档案、文章分类、新闻分类、相册、链接 -->
<div id="sidebar_categories">

    <div id="sidebar_postcategory" class="catListPostCategory sidebar-block">
        <h3 class="catListTitle">
            
    <a class="sidebar-card-title-a" href="https://www.cnblogs.com/52php/categories">随笔分类</a>
<span class="sidebar-category-item-count">
    (1098)
</span>


        </h3>

        <ul>

                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/360334.html" class="category-item-link" rel="" target="">01.JS/CSS/HTML(88)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/360337.html" class="category-item-link" rel="" target="">02.PHP基础(225)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/360336.html" class="category-item-link" rel="" target="">03.开发问题(34)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/1077741.html" class="category-item-link" rel="" target="">04.Swoole(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/360668.html" class="category-item-link" rel="" target="">05.Linux-C(108)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/1069224.html" class="category-item-link" rel="" target="">06.Java基础(3)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/1069225.html" class="category-item-link" rel="" target="">07.Java库/系统(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/889369.html" class="category-item-link" rel="" target="">08.Go基础(88)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/932333.html" class="category-item-link" rel="" target="">09.Go库/系统(11)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851144.html" class="category-item-link" rel="" target="">20.Linux基础(55)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851145.html" class="category-item-link" rel="" target="">21.MySQL/NoSQL(90)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851146.html" class="category-item-link" rel="" target="">22.Apache/Nginx(29)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851149.html" class="category-item-link" rel="" target="">23.CentOS/Ubuntu/Mac(115)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851151.html" class="category-item-link" rel="" target="">25.Windows服务器(13)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851152.html" class="category-item-link" rel="" target="">26.运维/优化/架构(38)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851153.html" class="category-item-link" rel="" target="">30.网络基础/Web安全(42)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851154.html" class="category-item-link" rel="" target="">31.正则表达式(10)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851155.html" class="category-item-link" rel="" target="">32.开源系统/微信(22)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851156.html" class="category-item-link" rel="" target="">40.电脑/软件使用(84)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/category/851157.html" class="category-item-link" rel="" target="">41.招聘/面试(20)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/52php/category/851158.html" class="category-item-link" rel="" target="">43.杂七杂八(21)</a>
 
                </li>                
            <li>
                <a href="javascript:void(0)" onclick="sideColumnManager.loadMore(this)">更多</a>
            </li>
        </ul>


    </div>    
    <div id="sidebar_postarchive" class="catListPostArchive sidebar-block">
        <h3 class="catListTitle">
            
随笔档案<span class="sidebar-category-item-count">
    (1024)
</span>


        </h3>

        <ul>

                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/10.html" class="category-item-link" rel="" target="">2017年10月(11)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/09.html" class="category-item-link" rel="" target="">2017年9月(12)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/08.html" class="category-item-link" rel="" target="">2017年8月(20)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/07.html" class="category-item-link" rel="" target="">2017年7月(8)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/06.html" class="category-item-link" rel="" target="">2017年6月(10)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/05.html" class="category-item-link" rel="" target="">2017年5月(10)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/04.html" class="category-item-link" rel="" target="">2017年4月(18)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/03.html" class="category-item-link" rel="" target="">2017年3月(21)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/02.html" class="category-item-link" rel="" target="">2017年2月(33)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2017/01.html" class="category-item-link" rel="" target="">2017年1月(25)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2016/12.html" class="category-item-link" rel="" target="">2016年12月(20)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2016/11.html" class="category-item-link" rel="" target="">2016年11月(41)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2016/10.html" class="category-item-link" rel="" target="">2016年10月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2016/09.html" class="category-item-link" rel="" target="">2016年9月(21)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2016/08.html" class="category-item-link" rel="" target="">2016年8月(22)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/52php/archive/2016/07.html" class="category-item-link" rel="" target="">2016年7月(749)</a>
 
                </li>                
            
        </ul>


    </div>    
</div>

<!-- 最新评论 -->



<!-- 阅读排行榜 -->
<div id="sidebar_topviewedposts" class="sidebar-block"><div class="catListView">
    <h3 class="catListTitle">
        <a href="https://www.cnblogs.com/52php/most-viewed" class="sidebar-card-title-a">
    阅读排行榜
</a>

    </h3>
    <div id="TopViewPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/52php/p/5684509.html">
                            1. PHP简单 对象(object) 与 数组(array) 的转换(100405)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/52php/p/5861372.html">
                            2. Linux进程间通信（六）：共享内存 shmget()、shmat()、shmdt()、shmctl()(72334)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/52php/p/5677640.html">
                            3. PHP 正则表达式匹配函数 preg_match 与 preg_match_all(67117)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/52php/p/5659828.html">
                            4. 工作量单位-人月、人日、人时 详解(60990)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/52php/p/6200888.html">
                            5. MySQL自增ID 起始值 修改方法(60979)
                        </a>
                    </li>
        </ul>
    </div>
</div></div>

<!-- 评论排行榜 -->


<!-- 推荐排行榜 -->
</div>
                    <script>loadBlogSideColumn();</script>
			</div>			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright © 2022 52php
<br><span id="poweredby">Powered by .NET 6 on Kubernetes</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->



<div id="page_end_html">
<div class="back_to_top" onclick="window.scrollTo(&#39;0&#39;,&#39;0&#39;);" title="返回顶部"></div>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?740d750ddb9677faa51e7896d9642ed7";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</div>

<input type="hidden" id="antiforgery_token" value="CfDJ8EOBBtWq0dNFoDS-ZHPSe52WGZ3ZBf0VpQQQ7B1HDd6ryGJ-OEIh5kEgOb47cNKban3bNrJ47immjN1UcbOOn4WgR6Lc9iJnmFGf9qLH-L1AKplGSFeujTeEzsFfwPqT9b_J-7XnnHOfcfnN1vCws3Q">
<script async="" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/js"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    var kv = getGACustom();
    if (kv) {
        gtag('set', kv);
    }
    gtag('config', 'UA-476124-1');
</script>
<script defer="" src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/hm.js(1).下载"></script><iframe src="./Linux进程间通信（一）：信号 signal()、sigaction()_files/container.html" style="visibility: hidden; display: none;"></iframe>

</body></html>